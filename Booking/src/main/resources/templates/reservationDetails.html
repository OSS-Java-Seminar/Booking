<!DOCTYPE html>
<html xmlns:th="http://www.tymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Reservation details</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" 
	integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" 
	crossorigin="anonymous">
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <a class="navbar-brand"> Booking </a>

    <ul class="navbar-nav mr-auto">
      <li class="nav-item">
        <a class="nav-link" href="/">Home</a>
      </li>
      <li class="nav-item active">
        <a class="nav-link" href="/reservations">Reservations  <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/help">Help</a>
      </li>
    </ul>
    
    <ul class="navbar-nav">
    <li class="nav-item my-2 my-lg-0">
        <a class="nav-link" href="/user" th:text = "${user.username}"></a>
     </li>
     <li class="nav-item">
        <a class="nav-link" href="/logout">Logout</a>
      </li>
     </ul>
</nav>

<div style="padding: 20px; width: 250px; float:left; margin:50px;">
	<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">
		  <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"/>
		</svg><br><br>
	<ul class="list-group list-group-flush">
		<span th:if = "${isOwner}">
			<li class="list-group-item"><h5>Guest info</h5></li>
		</span>
		<span th:unless = "${isOwner}">
			<li class="list-group-item"><h5>Owner info</h5></li>
		</span>
		<li class="list-group-item"><a th:text = "${otherUser.firstName}"></a></li>
		<li class="list-group-item"><a th:text = "${otherUser.LastName}"></a></li>
		<li class="list-group-item"><a th:text = "${otherUser.username}"></a></li>
		<li class="list-group-item"><a th:text = "${otherUser.email}"></a></li>
		<li class="list-group-item"><a th:text = "${otherUser.phone}"></a></li>
	</ul>
</div>
<br>

<h3>Reservation details</h3>
<div class="container" style="margin:30px; float:left; width:800px;" th:with = "apartment=${reservation.apartment}">
		<table  class="table table-bordered"  style="width:800px;">
			<tr>
				<td  style="width:400px;">Name</td>
				<td  style="width:400px;" th:text = "${apartment.name}"></td>
			</tr>
			<tr>
				<td>Location</td>
				<td><a th:text = "${apartment.address}"></a>, <a th:text = "${apartment.city}"></a>, <a th:text = "${apartment.country}"></a></td>
			</tr>
			<tr>
				<td>Max. number of guests</td>
				<td th:text = "${apartment.capacity}"></td>
			</tr>
			<tr>
				<td>Description</td>
				<td th:text = "${apartment.description}"></td>
			</tr>
			<tr>
				<td>Check-in date</td>
				<td th:text = "${reservation.checkInDate}"></td>
			</tr>
			<tr>
				<td>Check-out date</td>
				<td th:text = "${reservation.checkOutDate}"></td>
			</tr>
			<tr>
				<td>Price per night</td>
				<td th:text = "${apartment.pricePerNight}"><a> €</a></td>
			</tr>
			<tr>
				<td><h3>Total price</h3></td>
				<td><h3><a th:text = "${reservation.totalPrice}"></a><a> €</a></h3></td>
			</tr>
		</table><br>
		<span th:if = "${reservation.booked}">
			<form class="form-inline my-2 my-lg-0" th:object="${search}" th:action="@{/reservations/cancel}"  method="get">
				<input type="hidden" id="reservationId" name="reservationId" th:attr="value = ${reservation.id}"/>
				<button class="btn btn-outline-info my-2 my-sm-0" type="submit">Cancel Reservation</button>
			</form>
		</span>
		<span th:unless = "${reservation.booked}">
			<h5>Reservation is cancelled.</h5>
		</span>
	</div>
	
</body>
</html>