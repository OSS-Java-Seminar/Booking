<!DOCTYPE html>
<html xmlns:th="http://www.tymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Where to next?</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" 
	integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" 
	crossorigin="anonymous">
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <a class="navbar-brand"> Booking </a>

    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <a class="nav-link" href="/">Home <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/reservations">Reservations</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/help">Help</a>
      </li>
    </ul>
    
    <ul class="navbar-nav">
    <li class="nav-item my-2 my-lg-0">
        <a class="nav-link" href="/user" th:text = "${user.username}"></a>
     </li>
     <li class="nav-item">
        <a class="nav-link" href="/logout">Logout</a>
      </li>
     </ul>
</nav>

<div style="border-radius: 25px; border: 1px solid #000000; padding: 20px; width: 250px; float:left; margin:50px;">
	<table>
		<form class="form-inline my-2 my-lg-0" th:object="${search}" th:action="@{/search}"  method="get">
			<input type="hidden" id="city" name="city" th:attr="value = ${city}"/>
			<input type="hidden" id="checkInDate" name="checkInDate" th:attr="value = ${checkInDate}"/>
			<input type="hidden" id="checkOutDate" name="checkOutDate" th:attr="value = ${checkOutDate}"/>

			<h5>Sort by</h5>	
				&nbsp;<input type="radio" id="PriceMax" name="sortBy" value="PriceMax"/>
				&nbsp;<label for="PriceMax">Price max</label><br>
				&nbsp;<input type="radio" id="PriceMin" name="sortBy" value="PriceMin"/>
				&nbsp;<label for="PriceMin">Price min</label><br>
				&nbsp;<input type="radio" id="Rating" name="sortBy" value="Rating"/>
				&nbsp;<label for="Rating">Best rated</label><br>
			<br>	
			<h5>Filter by</h5>	
			
			<label for="maxPrice">MAX price per night</label>			
			<input type="number" id="maxPrice" name="maxPrice" placeholder="100€" th:value="${maxPrice}"/><br><br>

			<label for="minCapacity">Guest number</label>
			<input type="number" id="minCapacity" name="minCapacity" placeholder="2" th:value="${minCapacity}"/><br><br>
			
			<label for="minBedroomNumber">Bedroom number</label>
			<input type="number" id="minBedroomNumber" name="minBedroomNumber" placeholder="1" th:value="${minBedroomNumber}"/><br><br>
			
 			<input type="checkbox" id="petsAllowed" name="petsAllowed" th:value="true" th:checked="${petsAllowed}"/>
 			<label for="petsAllowed">&nbsp;&nbsp;Pets allowed</label><br>
 			
 			
 			<input type="checkbox" id="smokingAllowed" name="smokingAllowed" th:value="true" th:checked="${smokingAllowed}" />
 			<label for="smokingAllowed">&nbsp;&nbsp;Smoking allowed</label><br>
 			
 			<input type="checkbox" id="disabledAccessible" name="disabledAccessible" th:value="true" th:checked="${disabledAccessible}" />
 			<label for="disabledAccessible">&nbsp;&nbsp;Disabled Accessible</label><br>
 			

 			<input type="checkbox" id="balcony" name="balcony" th:value="true" th:checked="${balcony}" />
 			<label for="balcony">&nbsp;&nbsp;Balcony</label><br>
 			 			
 			<input type="checkbox" id="kitchen" name="kitchen" th:value="true" th:checked="${kitchen}" />
 			<label for="kitchen">&nbsp;&nbsp;Kitchen</label><br>
 			
 			<input type="checkbox" id="parking" name="parking" th:value="true" th:checked="${parking}" />
 			<label for="parking">&nbsp;&nbsp;Parking</label><br>
 			
 			<input type="checkbox" id="seaView" name="seaView" th:value="true" th:checked="${seaView}" />
 			<label for="seaView">&nbsp;&nbsp;Sea view</label><br>
 			
 			<input type="checkbox" id="pool" name="pool" th:value="true" th:checked="${pool}" />
 			<label for="pool">&nbsp;&nbsp;Pool</label><br>
 			
 			<input type="checkbox" id="jacuzzi" name="jacuzzi" th:value="true" th:checked="${jacuzzi}" />
 			<label for="jacuzzi">&nbsp;&nbsp;Hot tub</label><br>
 			
 			<input type="checkbox" id="iron" name="iron" th:value="true" th:checked="${iron}" />
 			<label for="petsAllowed">&nbsp;&nbsp;Iron</label><br>
 			
 			<input type="checkbox" id="washingMachine" name="washingMachine" th:value="true" th:checked="${washingMachine}" />
 			<label for="washingMachine">&nbsp;&nbsp;Washing machine</label><br>
 			
 			<input type="checkbox" id="ac" name="ac" th:value="true" th:checked="${ac}" />
 			<label for="ac">&nbsp;&nbsp;A/C</label><br>
 			 			
 			<input type="checkbox" id="heating" name="heating" th:value="true" th:checked="${heating}" />
 			<label for="heating">&nbsp;&nbsp;Heating</label><br>
 			
 			<input type="checkbox" id="wifi" name="wifi" th:value="true" th:checked="${wifi}" />
 			<label for="wifi">&nbsp;&nbsp;WiFi</label><br><br>
 			
 			<button class="btn btn-outline-info my-2 my-sm-0" type="submit">Filter</button>			
		</form>
	</table>
	</div>


<div class = "container" style="float:left;">
	<h2 style="margin:60px;">Apartments in <a th:text = "${city}"></a> available for your dates</h2>
	<br><br>	
	<div class = "container-fluid" style="border:solid; border-width:1px; border-radius:25px; float:left; margin:20px;" th:each = "apartment: ${apartments}">
		<img th:src="${apartment.picture}" style="height:200px; width:200px; float:left; margin:15px;" class="rounded float-left"/>
		<div class = "container-fluid" style="float:left; margin:20px; width:800px;">
			<h3 th:text = "${apartment.name}">Ime</h3>
			<h4 style="float:right;"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star" viewBox="0 0 16 16">
				  <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
				</svg>&nbsp<a th:text = "${apartment.rating}"></a></h4>
			<small class="text-muted"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-geo-alt" viewBox="0 0 16 16">
				<path d="M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A31.493 31.493 0 0 1 8 14.58a31.481 31.481 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94zM8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10z"/>
				<path d="M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
				</svg>&nbsp
				<a th:text = "${apartment.address}"></a>, <a th:text = "${apartment.city}"></a>, <a th:text = "${apartment.country}"></a></small><br>
			<small class="text-muted"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-people" viewBox="0 0 16 16">
				<path d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/>
				</svg>&nbsp
				<a th:text = "${apartment.capacity}"></a></small><br>
			<small class="text-muted"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-braces" viewBox="0 0 16 16">
				<path d="M2.114 8.063V7.9c1.005-.102 1.497-.615 1.497-1.6V4.503c0-1.094.39-1.538 1.354-1.538h.273V2h-.376C3.25 2 2.49 2.759 2.49 4.352v1.524c0 1.094-.376 1.456-1.49 1.456v1.299c1.114 0 1.49.362 1.49 1.456v1.524c0 1.593.759 2.352 2.372 2.352h.376v-.964h-.273c-.964 0-1.354-.444-1.354-1.538V9.663c0-.984-.492-1.497-1.497-1.6zM13.886 7.9v.163c-1.005.103-1.497.616-1.497 1.6v1.798c0 1.094-.39 1.538-1.354 1.538h-.273v.964h.376c1.613 0 2.372-.759 2.372-2.352v-1.524c0-1.094.376-1.456 1.49-1.456V7.332c-1.114 0-1.49-.362-1.49-1.456V4.352C13.51 2.759 12.75 2 11.138 2h-.376v.964h.273c.964 0 1.354.444 1.354 1.538V6.3c0 .984.492 1.497 1.497 1.6z"/>
				</svg>&nbsp
				<a th:text = "${apartment.description}"></a>
			</small><br>
			<small class="text-muted"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cash-coin" viewBox="0 0 16 16">
			 	<path fill-rule="evenodd" d="M11 15a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm5-4a5 5 0 1 1-10 0 5 5 0 0 1 10 0z"/>
			  	<path d="M9.438 11.944c.047.596.518 1.06 1.363 1.116v.44h.375v-.443c.875-.061 1.386-.529 1.386-1.207 0-.618-.39-.936-1.09-1.1l-.296-.07v-1.2c.376.043.614.248.671.532h.658c-.047-.575-.54-1.024-1.329-1.073V8.5h-.375v.45c-.747.073-1.255.522-1.255 1.158 0 .562.378.92 1.007 1.066l.248.061v1.272c-.384-.058-.639-.27-.696-.563h-.668zm1.36-1.354c-.369-.085-.569-.26-.569-.522 0-.294.216-.514.572-.578v1.1h-.003zm.432.746c.449.104.655.272.655.569 0 .339-.257.571-.709.614v-1.195l.054.012z"/>
			 	<path d="M1 0a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4.083c.058-.344.145-.678.258-1H3a2 2 0 0 0-2-2V3a2 2 0 0 0 2-2h10a2 2 0 0 0 2 2v3.528c.38.34.717.728 1 1.154V1a1 1 0 0 0-1-1H1z"/>
			  	<path d="M9.998 5.083 10 5a2 2 0 1 0-3.132 1.65 5.982 5.982 0 0 1 3.13-1.567z"/>
				</svg>&nbsp
				<a th:text = "${apartment.pricePerNight}"></a><a> € per night</a><br>
			</small><br>
			<form class="form-inline my-2 my-lg-0" th:object="${search}" th:action="@{/apartments/details}"  method="get">
				<input type="hidden" id="checkInDate" name="checkInDate" th:attr="value = ${checkInDate}"/>
				<input type="hidden" id="checkOutDate" name="checkOutDate" th:attr="value = ${checkOutDate}"/>
				<input type="hidden" id="apartmentId" name="apartmentId" th:attr="value = ${apartment.id}"/>
				<button class="btn btn-outline-info my-2 my-sm-0" type="submit">Select</button>	
			</form>
		</div>
	</div>
</div>


</body>
</html>